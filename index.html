<!DOCTYPE html>
<html>
  <head>
    <title>PDMPB</title>
  </head>
  <body>
    <h1>Personal Data Management with Public Blockchain</h1>
    <h4>Your ETH address:</h4>
    <h4 id="address"></h4>
  </body>
  <script>

  if (typeof web3 !== 'undefined') {
    web3 = new Web3(web3.currentProvider);
  }else{
    web3 = new Web3(new Web3.providers.HttpProvider("rinkeby.infura.io/v3/87c66a413df1470abf86a50b4a8bf555"));
  }

  web3.eth.defaultAccount = web3.eth.accounts[0];

  web3.currentProvider.publicConfigStore.on('update', function(result, error) {
    if (!error) {
      document.getElementById('address').innerHTML += result.selectedAddress;
    }
    else {
      console.log('Error when fetching address');
      console.log(error);
    }
  });

  </script>
</html>
